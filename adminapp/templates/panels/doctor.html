{% include "layout/header.html" %}
{% include "layout/sidebar.html" %}
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    {% load static %}
    
    <style>
        div#calendar{
            width:70%;
        }
        .main-second{
            margin-left:15rem;
        }
        .card{
            background-color: white;
            border: none !important;
    padding: 10px 10px;
    margin-left: 10px;
    font-family: 'Poppins', sans-serif !important;
    box-shadow: 19px 20px 35px -20px rgba(0,0,0,0.75);
    min-height: 50px;
    height:17rem;
    background: #fff;
    width: 25rem;
    border: none;
    /* box-shadow: 0 1px 1px rgba(0,0,0,0.1); */
    border-radius: 4px;
    margin-bottom: 15px;
    transition: all .3s cubic-bezier(.25,.8,.25,1);
    padding: 20px;
    border-radius: 10px;

        }

        .char{
          display:flex;
          height:60vh;
        }
        slider {
            margin: 0 auto;
            max-width: 940px;
            padding:2rem;
          }
          
          .slide_viewer {
          
          }
          
          .slide_group {
            
          }
          
          .slide {
            display: none;
            height: 100%;
            position: absolute;
            width: 100%;
          }
          
          .slide:first-child {
            display: block;
          }
          
          {% comment %} .slide:nth-of-type(1) {
            background: #D7A151;
          }
          
          .slide:nth-of-type(2) {
            background: #F4E4CD;
          }
          
          .slide:nth-of-type(3) {
            background: #C75534;
          }
          
          .slide:nth-of-type(4) {
            background: #D1D1D4;
          } {% endcomment %}
          
          .slide .card{
            width:50%;
            margin:10rem 10rem 20rem 15rem;
          }
          .slide_buttons {
            left: 0;
            position: absolute;
            right: 0;
            text-align: center;
          }
          
          a.slide_btn {
            color: #474544;
            font-size: 42px;
            margin: 0 0.175em;
            -webkit-transition: all 0.4s ease-in-out;
            -moz-transition: all 0.4s ease-in-out;
            -ms-transition: all 0.4s ease-in-out;
            -o-transition: all 0.4s ease-in-out;
            transition: all 0.4s ease-in-out;
          }
          
          .slide_btn.active, .slide_btn:hover {
            color: #428CC6;
            cursor: pointer;
          }
          
          .directional_nav {
            height: 340px;
            margin: 0 auto;
            max-width: 940px;
            position: relative;
            top: -340px;
          }
          
          .previous_btn {
            bottom: 0;
            left: 100px;
            margin: auto;
            position: absolute;
            top: 0;
          }
          
          .next_btn {
            bottom: 0;
            margin: auto;
            position: absolute;
            right: 100px;
            top: 0;
          }
          
          .previous_btn, .next_btn {
            cursor: pointer;
            height: 65px;
            opacity: 0.5;
            -webkit-transition: opacity 0.4s ease-in-out;
            -moz-transition: opacity 0.4s ease-in-out;
            -ms-transition: opacity 0.4s ease-in-out;
            -o-transition: opacity 0.4s ease-in-out;
            transition: opacity 0.4s ease-in-out;
            width: 65px;
          }
          
          .previous_btn:hover, .next_btn:hover {
            opacity: 1;
          }
          
          @media only screen and (max-width: 767px) {
            .previous_btn {
              left: 50px;
            }
            .next_btn {
              right: 50px;
            }
          }


          .POP {
            margin-top:10rem;
          }

          
        .card:hover {
    background-color: #fff;
    box-shadow: 0 5px 10px rgba(0,0,0,.25), 0 10px 10px rgba(0,0,0,.22);
}
.main-cards{
   display: grid;
   gap: 10px;
   grid-template-columns: auto auto auto auto auto auto auto ;
   align-items: start;
   justify-content: start;
   margin: 1rem;
   margin-top:5rem !important; 
   flex-wrap: nowrap;
    

}
.fc-button, .fc-button-primary{
    border:none !important;
    background-color:#1cb88e !important;
}
.calender button{
    background-color:#1cb88e !important;
}
.charts{
    display: flex;
    height:55rem; 

}
.chart{
    width: 100%;
    padding: 1rem;
   
    background-color: #fff;
    box-shadow: 19px 20px 35px -20px rgba(0,0,0,0.75);
    margin: 1rem;
}

.calender-section{
    display: flex;
    margin-top:5rem;
    
}
h1{
    font-size:25px !important; 
}
.card{
    display:flex;
}
.card_nurse{
   

}
.card img{
    width:40%;
    height:50%;
    padding:5px;
    margin-top:10px;
    margin-right:10px;

}
.slide img{
  width:100%;
}
.box-content h3{
    font-size:2rem;
}
.box-content h1{
    font-size:3rem !important;
}

    </style>
</head>
<body>
    <div class="container">

    <div class="main-cards">
        <div class="card">
            <img src="{% static "/css/images/icons8-doctor-64.png" %}" alt="">
            <div class="box-content">
            <h3>
                OPD Income 
            </h3>
            <h1>RS 0.00</h1>
        </div>
        </div>
        <div class="card">
            <img src="{% static "/css/images/icons8-bed-50.png" %}" alt="">
            <div class="box-content">
            <h3>
                IPD Income 
            </h3>
            <h1>RS 0.00</h1>
            </div>
        </div>
        <div class="card">
            <img src="{% static "/css/images/icons8-doctor-64.png" %}" alt="">
            <div class="box-content">
            <h3>
                Phathalogy Income
            </h3>
            <h1>RS 0.00</h1>
            </div>
        </div>
        <div class="card">
            <img src="{% static "css/images/icons8-microscope-50.png" %}" alt="">
            <div class="box-content">
            <h3>
                Pharmacy Income
            </h3>
            <h1>RS 0.00</h1>
            </div>
        </div>
        <div class="card">
            <img src="{% static "/css/images/icons8-water-16.png" %}" alt="">
            <div class="box-content">
            <h3>
                Blood Bank Income
            </h3>
            <h1>RS 0.00</h1>
            </div>

        </div>
        <div class="card">
            <img src="{% static "css\images\icons8-ambulance-50.png" %}" alt="">
            <div class="box-content">
            <h3>
                Ambulance Income
            </h3>   
            <h1>RS 0.00</h1>
            </div>
        </div>
        <div class="card">
            <img src="{% static "css/images/icons8-money-100.png" %}" alt="">
            <div class="box-content">
            <h3>
                General Income
            </h3>
            <h1>RS 0.00</h1>
            </div>
        </div>
    </div>


<div class="char">
      <div class="chart">
          <div class="chart-heading">
             
           
    {% if user.role == 'Admin' %}
    <div class="slider">
        <div class="slide_viewer">
          <div class="slide_group">
            <div class="slide">
              <img class="ad_0" src="">
            </div>
            <div class="slide">
              <img class="ad_1" src="">
            </div>
          
          </div>
        </div>
      </div>
  {% endif %}



    </div>
    </div>
  



   
  </div>  

 





    <div class="charts">
        <div class="chart">
            <div class="chart-heading">
                <h1>Yearly And Monthly Expense</h1>
            </div>
        <canvas id="myChart" style="width:100%;max-width:700px"></canvas>
    </div>
    <div class="chart">
        <div class="chart-heading">
        <canvas id="chartId" aria-label="chart" height="350" width="580"></canvas>
    </div>
    </div>
    </div>




    
   


     <div class="calender-section">
        <div id='calendar'></div>
        <div class="main-second">
            <div class="card">
                <img src="{% static "/css/images/icons8-doctor-64.png" %}" alt="">
                <div class="box-content">
                <h3>
                    Doctor
                </h3>

                <h1>RS 0.00</h1>
            </div>
            </div>
            <div class="card">
                <img src="{% static "/css/images/doctor/icons8-accountant-64.png" %}" alt="">
                <div class="box-content">
                <h3>
                    Accountant
                </h3>
                <h1>RS 0.00</h1>
                </div>
            </div>
            <div class="card">
                <img src="{% static "/css/images/doctor/icons8-orthopedist-64.png" %}" alt="">
                <div class="box-content">
                <h3>
                    Pathologist 
                </h3>
                <h1>RS 0.00</h1>
                </div>
            </div>
            <div class="card">
                <img src="{% static "/css/images/doctor/icons8-Radiologist-64(1).png" %}" alt="">
                <div class="box-content">
                <h3>
                    Radiologist
                </h3>
                <h1>RS 0.00</h1>
                </div>
            </div>
            <div class="card">
                <img src="{% static "/css/images/doctor/icons8-nurse-96.png" %}" alt="">
                <div class="box-content">
                <h3>
                    Nurse
                </h3>
                <h1>RS 0.00</h1>
                </div>
    
            </div>
            
        </div>
     </div>
     </div>

     <button id="changeadsButton" onClick="changeads()">Change ads</button>
</body>
<script
src="https://cdnjs.cloudflare.com/ajax/libs/Chart.js/2.9.4/Chart.js">

</script>
<script src='https://cdn.jsdelivr.net/npm/fullcalendar@6.1.9/index.global.min.js'></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/fullcalendar/6.1.9/index.min.js"></script>
<script>



   const xValues = ['Jan', 'feb','march','april','may','june','july','august','september','october','november','december'];
const yValues = [0, 1000, 2000,3000,4000,5000 ];
const barColors = ["#1cb88e", "#e67e22"];
const inc = ['income','expense']
new Chart("myChart", {
  type: "bar",
  data: {
    labels: xValues,
   
    datasets: [
      {
        label: 'Income',
        data: [112,12,234,45],
        backgroundColor: barColors[0],
        borderWidth: 2,

        borderSkipped: false,
      },
      {
        label: 'Small Radius',
        data:[112,12,121,12],

        backgroundColor: barColors[1],
        borderWidth: 2,
        borderRadius: 5,
        borderSkipped: false,
      }
    ]
  },
  
   
    
  options: {}
});
var chrt = document.getElementById("chartId").getContext("2d");
      var chartId = new Chart(chrt, {
         type: 'doughnut',
         data: {
            labels: ["radiology", "income", "expense", "pathlology", "blood bank", "IPD"],
            datasets: [{
            label: "online tutorial subjects",
            data: [20, 40, 13, 35, 20, 38],
            backgroundColor: ['yellow', 'aqua', 'pink', 'lightgreen', 'gold', 'lightblue'],
            hoverOffset: 5
            }],
         }, 
         options: {
            responsive: false,
         },
      });

      document.addEventListener('DOMContentLoaded', function() {
        var calendarEl = document.getElementById('calendar');
        var calendar = new FullCalendar.Calendar(calendarEl, {
          initialView: 'dayGridMonth'
        });
        calendar.render();
      });


      $('.slider').each(function() {
  var $this = $(this);
  var $group = $this.find('.slide_group');
  var $slides = $this.find('.slide');
  var bulletArray = [];
  var currentIndex = 0;
  var timeout;
  
  function move(newIndex) {
    var animateLeft, slideLeft;
    
    advance();
    
    if ($group.is(':animated') || currentIndex === newIndex) {
      return;
    }
    
    bulletArray[currentIndex].removeClass('active');
    bulletArray[newIndex].addClass('active');
    
    if (newIndex > currentIndex) {
      slideLeft = '100%';
      animateLeft = '-100%';
    } else {
      slideLeft = '-100%';
      animateLeft = '100%';
    }
    
    $slides.eq(newIndex).css({
      display: 'block',
      left: slideLeft
    });
    $group.animate({
      left: animateLeft
    }, function() {
      $slides.eq(currentIndex).css({
        display: 'none'
      });
      $slides.eq(newIndex).css({
        left: 0
      });
      $group.css({
        left: 0
      });
      currentIndex = newIndex;
    });
  }
  
  function advance() {
    clearTimeout(timeout);
    timeout = setTimeout(function() {
      if (currentIndex < ($slides.length - 1)) {
        move(currentIndex + 1);
      } else {
        move(0);
      }
    }, 4000);
  }
  
  $('.next_btn').on('click', function() {
    if (currentIndex < ($slides.length - 1)) {
      move(currentIndex + 1);
    } else {
      move(0);
    }
  });
  
  $('.previous_btn').on('click', function() {
    if (currentIndex !== 0) {
      move(currentIndex - 1);
    } else {
      move(3);
    }
  });
  
  $.each($slides, function(index) {
    var $button = $('<a class="slide_btn">&bull;</a>');
    
    if (index === currentIndex) {
      $button.addClass('active');
    }
    $button.on('click', function() {
      move(index);
    }).appendTo('.slide_buttons');
    bulletArray.push($button);
  });
  
  advance();
});

function changeads() {
  // Replace 'new_logo_url' with the URL of the new logo image
  


// Attach a click event listener to the button
$('#changeadsButton').click(changeLogo);
console.log('heelo')
// Fetch and update hospital name as before
$.get('/get_ads_data/', function (data) {

  
  if (data.ads) {
  
   


          
          // Initial population of the slider
          
      for (let i = 0; i < data.ads.length; i++) {
         
        setTimeout(function () {
            $('.ad_'+i).attr('src', data.ads[i].image);

           
        
              
              console.log('ad_'+i)

            }, i * 2000);
          // Change the image every 2 seconds (2000 milliseconds)
      }
  } else {
      
  }
});
}
console.log('hello')
function newClick(){
console.log('ads')
const m = document.querySelector('#changeadsButton').click()
console.log(m)
}
newClick() 
     



</script>




</html>



{% comment %} 
<div class="slider">
  <div class="slide_viewer">
    <div class="slide_group">
      <div class="slide">
        <div class="card_income card">
          <img src="{% static "css/images/icons8-money-100.png" %}" alt="">
          <div class="box-content">
          <h3>
              General Income
          </h3>
          <h1>RS 0.00</h1>
        </div>
        </div>
        </div>
      
      
      
      

      <div class="slide">
        <div class="card_bank card">
          <img src="{% static "/css/images/icons8-water-16.png" %}" alt="">
          <div class="box-content">
          <h3>
              Blood Bank Income
          </h3>
          <h1>RS 0.00</h1>
          </div>
      </div>
      </div>
      

      <div class="slide">
        <div class="card_ambulance card">
          <img src="{% static "css\images\icons8-ambulance-50.png" %}" alt="">
          <div class="box-content">
          <h3>
              Ambulance Income
          </h3>   
          <h1>RS 0.00</h1>
          </div>
      </div>
      </div>
      <div class="slide">
        <div class="card_pharma card">
          <img src="{% static "css/images/icons8-microscope-50.png" %}" alt="">
          <div class="box-content">
          <h3>
              Pharmacy Income
          </h3>
          <h1>RS 0.00</h1>
          </div>


      </div>
      </div>

      <div class="slide">
        <div class="card_ipd card">
          <img src="{% static "/css/images/icons8-bed-50.png" %}" alt="">
          <div class="box-content">
          <h3>
              IPD Income 
          </h3>
          <h1>RS 0.00</h1>
          </div>


      </div>
      </div>

      <div class="slide">
        
        <div class="card_opd card">
          <img src="{% static "/css/images/icons8-doctor-64.png" %}" alt="">
          <div class="box-content">
          <h3>
              OPD Income 
          </h3>
          <h1>RS 0.00</h1>
      </div>
      </div>
      </div>


    </div>
  </div>
</div> {% endcomment %}